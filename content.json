{"posts":[{"title":"Environment configuration for MagicDrive","text":"A guidance of environment configuration for MagicDrive. Environment SetupPrepare conda environment 12conda create -n newenv python==3.8conda activate newenv Clone MagicDrive reop 1git clone --recursive https://github.com/cure-lab/MagicDrive.git Install pytorch==1.10.2, torchvision==0.11.3, cuda==11.3 12pip install torchvision-0.11.3+cu113-cp38-cp38-linux_x86_64.whlpip install torch-1.10.2+cu113-cp38-cp38-linux_x86_64.whl Prepare mmcv for BEVFusion 1pip install https://download.openmmlab.com/mmcv/dist/cu113/torch1.10.0/mmcv_full-1.4.5-cp38-cp38-manylinux1_x86_64.whl Install other requirements 1pip install -r requirements/dev.txt Install diffusers 12cd third_party/diffuserspip install . Install BEVFusion 1234cd third_partygit clone https://github.com/mit-han-lab/bevfusion.gitcd bevfusionpython setup.py develop Pretrained WeightsThe training is based on stable-diffusion-v1-5. Put them at ${ROOT}/pretrained/ as follows: 123456{ROOT}/pretrained/stable-diffusion-v1-5/├── text_encoder├── tokenizer├── unet├── vae└── ...","link":"/2024/09/23/Environment-configuration-for-MagicDrive/"},{"title":"HuggingFace Downloader","text":"Code pieces for downloading models from Hugging Face. Install12pip install huggingface_hubhuggingface-cli --help downloader.py123456789101112131415161718192021import osfrom huggingface_hub import snapshot_downloadrepo_id_list=[ # samples &quot;laion/CLIP-ViT-B-16-laion2B-s34B-b88K&quot;, &quot;laion/CLIP-ViT-H-14-laion2B-s32B-b79K&quot;, &quot;openai/clip-vit-base-patch32&quot;]# download to 'Models'for repo_id in repo_id_list: print(&quot;Start Downloading models for repo {}&quot;.format(repo_id)) local_dir = snapshot_download(repo_id=repo_id, local_dir=os.path.join(&quot;../Models&quot;,repo_id) , local_dir_use_symlinks=False, cache_dir=&quot;../.cache&quot;, resume_download=True, endpoint=&quot;https://hf-mirror.com&quot;, use_auth_token=&quot;hf_*************&quot;) print(f&quot;Model file downloaded to {local_dir}&quot;) Run1python downloader.py","link":"/2024/09/22/HuggingFace-Downloader/"}],"tags":[{"name":"Diffusion","slug":"Diffusion","link":"/tags/Diffusion/"},{"name":"Driving Video Deneration","slug":"Driving-Video-Deneration","link":"/tags/Driving-Video-Deneration/"},{"name":"Model","slug":"Model","link":"/tags/Model/"},{"name":"HuggingFace","slug":"HuggingFace","link":"/tags/HuggingFace/"}],"categories":[{"name":"Environment Configuration","slug":"Environment-Configuration","link":"/categories/Environment-Configuration/"},{"name":"Code Piece","slug":"Code-Piece","link":"/categories/Code-Piece/"}],"pages":[]}